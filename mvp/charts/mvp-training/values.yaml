# MVP Training - Helm Values

replicaCount: 1

image:
  repository: mvp-training
  tag: "latest"
  pullPolicy: IfNotPresent

imagePullSecrets: []

service:
  type: ClusterIP
  port: 8001

resources:
  limits:
    cpu: "4"
    memory: "8Gi"
    # GPU support (uncomment if needed)
    # nvidia.com/gpu: 1
  requests:
    cpu: "1"
    memory: "2Gi"

# ===========================================
# External Services
# ===========================================

minio:
  endpoint: "http://minio.storage.svc.cluster.local:9000"
  accessKey: ""
  secretKey: ""
  existingSecret: ""
  bucketDatasets: "datasets"
  bucketCheckpoints: "checkpoints"
  bucketResults: "results"

# ===========================================
# Backend Callback
# ===========================================
backend:
  url: "http://mvp-backend:8000"
  callbackToken: ""
  existingSecret: ""

# ===========================================
# MLflow (optional)
# ===========================================
mlflow:
  enabled: false
  trackingUri: "http://mlflow:5000"

# ===========================================
# GPU Configuration
# ===========================================
gpu:
  enabled: false
  count: 1
  # For NVIDIA GPU
  # tolerations and nodeSelector will be auto-configured

# ===========================================
# Application Config
# ===========================================
config:
  logLevel: "INFO"
  pythonPath: "/workspace/training"

nodeSelector: {}
# For GPU nodes:
# nvidia.com/gpu: "true"

tolerations: []
# For GPU nodes:
# - key: "nvidia.com/gpu"
#   operator: "Exists"
#   effect: "NoSchedule"

affinity: {}

livenessProbe:
  httpGet:
    path: /health
    port: http
  initialDelaySeconds: 60
  periodSeconds: 30

readinessProbe:
  httpGet:
    path: /health
    port: http
  initialDelaySeconds: 30
  periodSeconds: 10

# PVC for model weights and outputs
persistence:
  enabled: false
  storageClass: ""
  size: "50Gi"
  accessModes:
    - ReadWriteOnce
