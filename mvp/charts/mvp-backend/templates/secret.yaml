{{- if not .Values.security.existingSecret }}
apiVersion: v1
kind: Secret
metadata:
  name: {{ include "mvp-backend.fullname" . }}-secret
  labels:
    {{- include "mvp-backend.labels" . | nindent 4 }}
type: Opaque
stringData:
  {{- if .Values.postgresql.password }}
  postgresql-password: {{ .Values.postgresql.password | quote }}
  {{- end }}
  {{- if .Values.minio.accessKey }}
  minio-access-key: {{ .Values.minio.accessKey | quote }}
  {{- end }}
  {{- if .Values.minio.secretKey }}
  minio-secret-key: {{ .Values.minio.secretKey | quote }}
  {{- end }}
  {{- if .Values.llm.openai.apiKey }}
  openai-api-key: {{ .Values.llm.openai.apiKey | quote }}
  {{- end }}
  {{- if .Values.llm.gemini.apiKey }}
  google-api-key: {{ .Values.llm.gemini.apiKey | quote }}
  {{- end }}
  {{- if .Values.security.jwtSecret }}
  jwt-secret: {{ .Values.security.jwtSecret | quote }}
  {{- end }}
{{- end }}
