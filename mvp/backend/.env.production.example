# Production Environment Variables Template
# Copy this file and fill in the values in Railway dashboard

# ==========================================
# Database (Auto-injected by Railway)
# ==========================================
DATABASE_URL=${DATABASE_URL}
REDIS_URL=${REDIS_URL}

# ==========================================
# LLM API (REQUIRED - Manual Setup)
# ==========================================
GOOGLE_API_KEY=your-gemini-api-key-here

# ==========================================
# Authentication (REQUIRED - Manual Setup)
# ==========================================
# Generate with: python -c "import secrets; print(secrets.token_urlsafe(64))"
JWT_SECRET=your-random-64-character-secret-here
JWT_ALGORITHM=HS256
ACCESS_TOKEN_EXPIRE_MINUTES=60
REFRESH_TOKEN_EXPIRE_DAYS=7

# ==========================================
# CORS (REQUIRED - Set Frontend URL)
# ==========================================
# Comma-separated list of allowed origins
# Example: https://frontend-production-xxxx.up.railway.app
CORS_ORIGINS=https://your-frontend-url.up.railway.app

# ==========================================
# Application Settings
# ==========================================
ENVIRONMENT=production
DEBUG=false
LOG_LEVEL=INFO

# ==========================================
# Training Service (REQUIRED for Railway)
# ==========================================
# URL of the deployed Training Service
TRAINING_SERVICE_URL=https://training-service-production.up.railway.app

# ==========================================
# Object Storage - Cloudflare R2 (REQUIRED)
# ==========================================
# Get these from Cloudflare R2 dashboard
AWS_S3_ENDPOINT_URL=https://your-account-id.r2.cloudflarestorage.com
AWS_ACCESS_KEY_ID=your-r2-access-key-id
AWS_SECRET_ACCESS_KEY=your-r2-secret-access-key
S3_BUCKET=vision-platform-production

# ==========================================
# MLflow Tracking (Optional)
# ==========================================
# If using hosted MLflow, set the URL here
MLFLOW_TRACKING_URI=http://mlflow-service:5000

# ==========================================
# Backend Internal API (REQUIRED)
# ==========================================
# For Training Service to call Backend
# Generate secure token with: python -c "import secrets; print(secrets.token_urlsafe(32))"
BACKEND_INTERNAL_URL=https://backend-production.up.railway.app/internal
BACKEND_INTERNAL_AUTH_TOKEN=your-secure-internal-token-here

# ==========================================
# File Storage (Local paths in container)
# ==========================================
UPLOAD_DIR=/app/uploads
OUTPUT_DIR=/app/outputs
DATASETS_PATH=/app/datasets

# ==========================================
# Server
# ==========================================
# Railway will auto-inject PORT
PORT=${PORT}
HOST=0.0.0.0
