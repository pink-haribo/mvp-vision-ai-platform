# Cloudflare R2 Configuration
# Copy this file to .env.r2 and fill in your R2 credentials

# R2 S3 Endpoint
# Format: https://<account_id>.r2.cloudflarestorage.com
# Get this from: R2 Dashboard → Settings → S3 API
AWS_S3_ENDPOINT_URL=https://your-account-id.r2.cloudflarestorage.com

# R2 API Token Credentials
# Get these from: R2 Dashboard → Manage R2 API Tokens → Create API Token
AWS_ACCESS_KEY_ID=your_access_key_id_here
AWS_SECRET_ACCESS_KEY=your_secret_access_key_here

# R2 Bucket Name
# Default: vision-platform-prod
R2_BUCKET_NAME=vision-platform-prod

# MLflow Artifact Root
# This will be used by MLflow to store experiment artifacts
MLFLOW_DEFAULT_ARTIFACT_ROOT=s3://vision-platform-prod/mlflow-artifacts

# ============================================================
# Testing Instructions
# ============================================================
#
# 1. Copy this file:
#    cp .env.r2.example .env.r2
#
# 2. Fill in your R2 credentials above
#
# 3. Load environment variables:
#    # PowerShell
#    Get-Content .env.r2 | ForEach-Object {
#      if ($_ -match '^([^#][^=]+)=(.*)$') {
#        [Environment]::SetEnvironmentVariable($matches[1], $matches[2], 'Process')
#      }
#    }
#
#    # Bash/Linux
#    export $(cat .env.r2 | xargs)
#
# 4. Test connection:
#    python scripts/test_r2_connection.py
#
# ============================================================
# Railway Deployment
# ============================================================
#
# Set these variables in Railway Dashboard:
#
# MLflow Service:
#   AWS_S3_ENDPOINT_URL=https://your-account-id.r2.cloudflarestorage.com
#   AWS_ACCESS_KEY_ID=your_access_key_id_here
#   AWS_SECRET_ACCESS_KEY=your_secret_access_key_here
#   MLFLOW_DEFAULT_ARTIFACT_ROOT=s3://vision-platform-prod/mlflow-artifacts
#   MLFLOW_BACKEND_STORE_URI=${{Postgres.DATABASE_URL}}
#
# Training Services (timm, ultralytics, huggingface):
#   AWS_S3_ENDPOINT_URL=https://your-account-id.r2.cloudflarestorage.com
#   AWS_ACCESS_KEY_ID=your_access_key_id_here
#   AWS_SECRET_ACCESS_KEY=your_secret_access_key_here
#   MLFLOW_TRACKING_URI=https://mlflow-service-production-xxxx.up.railway.app
#
